<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_7.0.xsd">

  <grid model="com.axelor.apps.portal.db.PortalCmsComponent" title="CMS components"
    name="portal-portal-cms-component-grid">
    <field name="title"/>
    <field name="code"/>
  </grid>

  <form model="com.axelor.apps.portal.db.PortalCmsComponent" title="CMS component"
    name="portal-portal-cms-component-form" width="large">
    <panel name="mainPanel">
      <panel name="imagePanel" colSpan="2">
        <field name="image" widget="Image" colSpan="12" showTitle="false"
          onChange="action-portal-cms-component-record-create-thumbnail-image"/>
        <field name="thumbnailImage" hidden="true" colSpan="12"/>
      </panel>
      <panel name="infoPanel" colSpan="10">
        <field name="title" required="true"/>
        <field name="code"/>
        <field name="typeSelect"/>
      </panel>
    </panel>
  </form>

  <action-record name="action-portal-cms-component-record-create-thumbnail-image"
    model="com.axelor.apps.portal.db.PortalNewsCategory">
    <field name="thumbnailImage"
      expr="call: com.axelor.apps.portal.utils.ImageUtils:createThumbnail(image)"/>
  </action-record>

</object-views>