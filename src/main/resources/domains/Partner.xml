<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/domain-models http://axelor.com/xml/ns/domain-models/domain-models_7.0.xsd">

  <module name="base" package="com.axelor.apps.base.db"/>

  <entity name="Partner">

    <string name="portalPassword" title="Password"/>
    <string name="createdFromSelect" title="Created from"
      selection="partner.created.from.select"/>
    <string name="linkedinLink"/>
    <string name="portalCompanyName" title="Company"/>
    <string name="directoryCompanyDescription" title="Directory company description"
      large="true"/>

    <boolean name="isAllowedToRegister" title="Is allowed to register"/>
    <boolean name="isActivatedOnPortal"/>
    <boolean name="isPublicPartner" title="Portal public"/>
    <boolean name="canSubscribeNoPublicEvent" title="Subscribe to no public events"/>
    <boolean name="canEditWiki" title="Allow wiki edits"/>

    <boolean name="isInDirectory" title="In directory"/>
    <boolean name="isEmailInDirectory" title="Email in directory"/>
    <boolean name="isPhoneInDirectory" title="Phone in directory"/>
    <boolean name="isWebsiteInDirectory" title="Website in directory"/>
    <boolean name="isAddressInDirectory" title="Address in directory"/>
    <boolean name="isFunctionInDirectory" title="Function in directory"/>
    <boolean name="isLinkedinInDirectory" title="Linkedin in directory"/>

    <many-to-many name="partnerWorkspaceSet" title="Workspaces"
      ref="com.axelor.apps.portal.db.PartnerPortalWorkspace"/>
    <many-to-many name="contactWorkspaceConfigSet" title="Workspace configs"
      ref="com.axelor.apps.portal.db.PortalContactWorkspaceConfig"/>
    <many-to-one ref="com.axelor.apps.portal.db.PartnerPortalWorkspace"
      name="defaultWorkspace" title="Default workspace"/>
    <one-to-many ref="com.axelor.apps.portal.db.PortalUserPreference"
      name="portalUserPreferenceList" mappedBy="partner" title="Notification preferences"/>

    <!-- MATTERMOST -->
    <string name="mattermostUserId" title="Mattermost channel id" unique="true"/>
    <entity-listener class="com.axelor.apps.portal.db.repo.PartnerListener"/>
  </entity>

</domain-models>
